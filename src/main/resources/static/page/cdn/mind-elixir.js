!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MindElixir=t():e.MindElixir=t()}(window,function(){return i={},o.m=n=[function(e,t,n){"use strict";e.exports=function(n){var r=[];return r.toString=function(){return this.map(function(e){var t=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},r.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&n[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),r.push(a))}},r}},function(e,t,i){var n,o,a,s={},l=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),r=(a={},function(e,t){if("function"==typeof e)return e();if(void 0===a[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}a[e]=n}return a[e]}),d=null,p=0,c=[],u=i(5);function f(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=s[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(y(i.parts[a],t))}else{var r=[];for(a=0;a<i.parts.length;a++)r.push(y(i.parts[a],t));s[i.id]={id:i.id,refs:1,parts:r}}}}function h(e,t){for(var n=[],i={},o=0;o<e.length;o++){var a=e[o],r=t.base?a[0]+t.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(c):n.push(i[r]={id:r,parts:[c]})}return n}function m(e,t){var n=r(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(e.insertAt.before,n);n.insertBefore(t,o)}}function b(e){if(null!==e.parentNode){e.parentNode.removeChild(e);var t=c.indexOf(e);0<=t&&c.splice(t,1)}}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return i.nc}();n&&(e.attrs.nonce=n)}return v(t,e.attrs),m(e,t),t}function v(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function y(t,e){var n,i,o,a,r,c;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var s=p++;n=d=d||g(e),i=N.bind(null,n,s,!1),o=N.bind(null,n,s,!0)}else o=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=e,c=document.createElement("link"),void 0===r.attrs.type&&(r.attrs.type="text/css"),r.attrs.rel="stylesheet",v(c,r.attrs),m(r,c),i=function(e,t,n){var i=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(i=u(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(r),c&&URL.revokeObjectURL(c)}.bind(null,n=c,e),function(){b(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){b(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}e.exports=function(e,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(r=r||{}).attrs="object"==typeof r.attrs?r.attrs:{},r.singleton||"boolean"==typeof r.singleton||(r.singleton=l()),r.insertInto||(r.insertInto="head"),r.insertAt||(r.insertAt="bottom");var c=h(e,r);return f(c,r),function(e){for(var t=[],n=0;n<c.length;n++){var i=c[n];(o=s[i.id]).refs--,t.push(o)}e&&f(h(e,r),r);for(n=0;n<t.length;n++){var o;if(0===(o=t[n]).refs){for(var a=0;a<o.parts.length;a++)o.parts[a]();delete s[o.id]}}}};var x,w=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function N(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}},function(e){e.exports=JSON.parse('{"name":"mind-elixir","version":"0.9.6","description":"Mind elixir is a free open source mind map core.","main":"dist/mind-elixir.js","scripts":{"start":"webpack-dev-server --mode development","lite":"webpack --mode production --env.lite=1","test":"echo \\"Error: no test specified\\" && exit 1","build":"webpack --mode production --env.lite=0","doc":"./node_modules/.bin/jsdoc src/ -R readme.md -c conf.json","md":"./node_modules/.bin/jsdoc2md \'src/*.js\' > api.md"},"author":"","license":"MIT","devDependencies":{"@babel/core":"^7.4.5","@babel/preset-env":"^7.4.5","babel-loader":"^8.0.6","css-loader":"^2.1.1","docdash":"^1.1.1","file-loader":"^4.0.0","html-webpack-plugin":"^3.2.0","jsdoc":"^3.6.3","jsdoc-to-markdown":"^5.0.0","less":"^3.9.0","less-loader":"^5.0.0","style-loader":"^0.23.1","uglifyjs-webpack-plugin":"^2.1.3","url-loader":"^2.0.0","webpack":"^4.33.0","webpack-bundle-analyzer":"^3.3.2","webpack-cli":"^3.3.2","webpack-dev-server":"^3.5.1"},"dependencies":{"hotkeys-js":"^3.6.11"}}')},function(e,t,n){var i=n(4);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".mind-elixir {\n  position: relative;\n}\n.map-container {\n  user-select: none;\n  height: 100%;\n  width: 100%;\n  overflow: scroll !important;\n  font-size: 15px;\n}\n.map-container::-webkit-scrollbar {\n  width: 0px;\n  height: 0px;\n}\n.map-container .focus-mode {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.map-container .map-canvas {\n  height: 20000px;\n  width: 20000px;\n  position: relative;\n  user-select: none;\n  transition: all 0.3s;\n  transform: scale(1);\n  background: #f6f6f6;\n}\n.map-container .map-canvas .selected {\n  outline: 2px solid #4dc4ff;\n}\n.map-container .map-canvas root {\n  position: absolute;\n}\n.map-container .map-canvas root tpc {\n  color: #ffffff;\n  padding: 10px 15px;\n  background-color: #00aaff;\n  border-radius: 5px;\n  font-size: 25px;\n}\n.map-container .map-canvas root tpc [contentEditable] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: #00aaff;\n  max-width: 300px;\n  z-index: 11;\n  -webkit-user-select: auto;\n}\n.map-container .box > grp {\n  position: absolute;\n}\n.map-container .box > grp > t > tpc {\n  background-color: #ffffff;\n  border: 1px solid #444444;\n  border-radius: 5px;\n  color: #735c45;\n  padding: 8px 10px;\n  margin: 0;\n}\n.map-container .box > grp > t > tpc [contentEditable] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  max-width: 300px;\n  padding: 8px 10px;\n  z-index: 11;\n  direction: ltr;\n  -webkit-user-select: auto;\n}\n.map-container .box .left-side {\n  direction: rtl;\n}\n.map-container .box .left-side tpc {\n  direction: ltr;\n}\n.map-container .box grp {\n  display: block;\n  pointer-events: none;\n}\n.map-container .box children,\n.map-container .box t {\n  display: inline-block;\n  vertical-align: middle;\n}\n.map-container .box t {\n  position: relative;\n  cursor: pointer;\n  padding: 0 15px;\n  margin-top: 10px;\n}\n.map-container .box t tpc {\n  position: relative;\n  display: block;\n  padding: 5px;\n  border-radius: 3px;\n  color: #666666;\n  pointer-events: all;\n  max-width: 800px;\n}\n.map-container .box t tpc [contentEditable] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  max-width: 300px;\n  padding: 5px;\n  z-index: 11;\n  direction: ltr;\n  -webkit-user-select: auto;\n}\n.map-container .box t tpc .tags {\n  direction: ltr;\n}\n.map-container .box t tpc .tags span {\n  display: inline-block;\n  border-radius: 3px;\n  padding: 2px 4px;\n  background: #d6f0f8;\n  color: #276f86;\n  margin: 0px;\n  font-size: 12px;\n  height: 16px;\n  line-height: 16px;\n  margin-right: 3px;\n  margin-top: 2px;\n}\n.map-container .box t tpc .icons {\n  display: inline-block;\n  direction: ltr;\n  margin-right: 10px;\n}\n.map-container .box t epd {\n  position: absolute;\n  height: 12px;\n  width: 12px;\n  line-height: 12px;\n  text-align: center;\n  border-radius: 50%;\n  border: 1px solid #4f4f4f;\n  background-color: #fff;\n  pointer-events: all;\n  z-index: 9;\n}\n.map-container .box t epd.minus {\n  transition: all 0.3s;\n  opacity: 0;\n}\n.map-container .box t epd.minus:hover {\n  opacity: 1;\n}\n.map-container .icon {\n  width: 1em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n.map-container .svg2nd,\n.map-container .svg3rd,\n.map-container .topiclinks,\n.map-container .linkcontroller {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n}\n.map-container .topiclinks,\n.map-container .linkcontroller {\n  pointer-events: none;\n}\n.map-container .topiclinks g,\n.map-container .linkcontroller g {\n  pointer-events: all;\n}\n.map-container .svg2nd,\n.map-container .svg3rd {\n  pointer-events: none;\n  z-index: -1;\n}\n.map-container .topiclinks *,\n.map-container .linkcontroller * {\n  z-index: 100;\n}\n.map-container .topiclinks g {\n  cursor: pointer;\n}\n.down t,\n.down children {\n  display: block !important;\n}\n.down grp {\n  display: inline-block !important;\n}\n.circle {\n  position: absolute;\n  height: 10px;\n  width: 10px;\n  margin-top: -5px;\n  margin-left: -5px;\n  border-radius: 100%;\n  background: #aaa;\n  cursor: pointer;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,a=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:a+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(e,t,n){var i=n(7);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"cmenu {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 99;\n}\ncmenu .menu-list {\n  position: fixed;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  font: 300 15px 'Roboto', sans-serif;\n  color: #333;\n  box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.2);\n}\ncmenu .menu-list * {\n  transition: color 0.4s, background 0.4s;\n}\ncmenu .menu-list li {\n  min-width: 150px;\n  overflow: hidden;\n  white-space: nowrap;\n  padding: 6px 10px;\n  background-color: #fff;\n  border-bottom: 1px solid #ecf0f1;\n}\ncmenu .menu-list li a {\n  color: #333;\n  text-decoration: none;\n}\ncmenu .menu-list li:hover {\n  background-color: #ecf0f1;\n}\ncmenu .menu-list li:first-child {\n  border-radius: 5px 5px 0 0;\n}\ncmenu .menu-list li:last-child {\n  border-bottom: 0;\n  border-radius: 0 0 5px 5px;\n}\ncmenu .menu-list li span:last-child {\n  float: right;\n}\n",""])},function(e,t,n){var i=n(9);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"toolbar {\n  position: absolute;\n  background: #fff;\n  padding: 10px;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n}\ntoolbar span:active {\n  opacity: 0.5;\n}\n.rb {\n  right: 20px;\n  bottom: 20px;\n  font-family: iconfont;\n}\n.rb span + span {\n  margin-left: 10px;\n}\n.lt {\n  font-size: 20px;\n  left: 20px;\n  top: 20px;\n  width: 20px;\n}\n.lt span {\n  display: block;\n}\n.lt span + span {\n  margin-top: 10px;\n}\n",""])},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"nmenu {\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  background: #fff;\n  padding: 10px;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  width: 240px;\n  box-sizing: border-box;\n  padding: 0 15px 15px;\n  transition: 0.3s all;\n}\nnmenu.close {\n  height: 30px;\n  width: 50px;\n  overflow: hidden;\n}\nnmenu .button-container {\n  padding: 3px 0;\n  direction: rtl;\n}\nnmenu #nm-tag {\n  margin-top: 20px;\n}\nnmenu .nm-fontsize-container {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n}\nnmenu .nm-fontsize-container div {\n  height: 36px;\n  width: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n  background-color: white;\n  color: tomato;\n  border-radius: 100%;\n}\nnmenu .nm-fontcolor-container {\n  margin-bottom: 10px;\n}\nnmenu input {\n  background: #f7f9fa;\n  border: 1px solid #dce2e6;\n  border-radius: 3px;\n  padding: 5px;\n  margin: 10px 0;\n  width: 100%;\n  box-sizing: border-box;\n}\nnmenu .split6 {\n  display: inline-block;\n  width: 16.66%;\n  margin-bottom: 5px;\n}\nnmenu .palette {\n  border-radius: 100%;\n  width: 21px;\n  height: 21px;\n  border: 1px solid #edf1f2;\n  margin: auto;\n}\nnmenu .nmenu-selected,\nnmenu .palette:hover {\n  box-shadow: tomato 0 0 0 2px;\n  background-color: #c7e9fa;\n}\nnmenu .size-selected {\n  background-color: tomato !important;\n  border-color: tomato;\n  fill: white;\n  color: white;\n}\nnmenu .size-selected svg {\n  color: #fff;\n}\nnmenu .bof {\n  text-align: center;\n}\nnmenu .bof span {\n  display: inline-block;\n  font-size: 14px;\n  border-radius: 4px;\n  padding: 2px 5px;\n}\nnmenu .bof .selected {\n  background-color: tomato;\n  color: white;\n}\n",""])},function(e,t){!function(r){var e,c='<svg><symbol id="icon-a" viewBox="0 0 1024 1024"><path d="M757.76 665.6q0 20.48 1.536 34.304t7.68 22.016 18.944 12.288 34.304 4.096q-3.072 25.6-15.36 44.032-11.264 16.384-33.28 29.696t-62.976 13.312q-11.264 0-20.48-0.512t-17.408-2.56l-6.144-2.048-1.024 0q-4.096-1.024-10.24-4.096-2.048-2.048-4.096-2.048-1.024-1.024-2.048-1.024-14.336-8.192-23.552-17.408t-14.336-17.408q-6.144-10.24-9.216-20.48-63.488 75.776-178.176 75.776-48.128 0-88.064-15.36t-69.12-44.032-45.056-68.096-15.872-88.576 16.896-89.088 47.616-67.584 74.24-42.496 96.768-14.848q48.128 0 88.576 17.408t66.048 49.152q0-8.192 0.512-16.384t0.512-15.36q0-71.68-39.936-104.448t-128-32.768q-43.008 0-84.992 6.656t-84.992 17.92q14.336-28.672 25.088-47.616t24.064-29.184q30.72-24.576 158.72-24.576 79.872 0 135.168 13.824t90.624 43.52 51.2 75.264 15.872 108.032l0 200.704zM487.424 743.424q50.176 0 79.872-33.28t29.696-95.744q0-61.44-28.672-93.696t-76.8-32.256q-52.224 0-82.944 33.28t-30.72 94.72q0 58.368 31.744 92.672t77.824 34.304z"  ></path></symbol><symbol id="icon-add" viewBox="0 0 1024 1024"><path d="M863.328 482.56l-317.344-1.12L545.984 162.816c0-17.664-14.336-32-32-32s-32 14.336-32 32l0 318.4L159.616 480.064c-0.032 0-0.064 0-0.096 0-17.632 0-31.936 14.24-32 31.904C127.424 529.632 141.728 544 159.392 544.064l322.592 1.152 0 319.168c0 17.696 14.336 32 32 32s32-14.304 32-32l0-318.944 317.088 1.12c0.064 0 0.096 0 0.128 0 17.632 0 31.936-14.24 32-31.904C895.264 496.992 880.96 482.624 863.328 482.56z"  ></path></symbol><symbol id="icon-move" viewBox="0 0 1024 1024"><path d="M863.744 544 163.424 544c-17.664 0-32-14.336-32-32s14.336-32 32-32l700.32 0c17.696 0 32 14.336 32 32S881.44 544 863.744 544z"  ></path></symbol><symbol id="icon-full" viewBox="0 0 1024 1024"><path d="M639.328 416c8.032 0 16.096-3.008 22.304-9.056l202.624-197.184-0.8 143.808c-0.096 17.696 14.144 32.096 31.808 32.192 0.064 0 0.128 0 0.192 0 17.6 0 31.904-14.208 32-31.808l1.248-222.208c0-0.672-0.352-1.248-0.384-1.92 0.032-0.512 0.288-0.896 0.288-1.408 0.032-17.664-14.272-32-31.968-32.032L671.552 96l-0.032 0c-17.664 0-31.968 14.304-32 31.968C639.488 145.632 653.824 160 671.488 160l151.872 0.224-206.368 200.8c-12.672 12.32-12.928 32.608-0.64 45.248C622.656 412.736 630.976 416 639.328 416z"  ></path><path d="M896.032 639.552 896.032 639.552c-17.696 0-32 14.304-32.032 31.968l-0.224 151.872-200.832-206.4c-12.32-12.64-32.576-12.96-45.248-0.64-12.672 12.352-12.928 32.608-0.64 45.248l197.184 202.624-143.808-0.8c-0.064 0-0.128 0-0.192 0-17.6 0-31.904 14.208-32 31.808-0.096 17.696 14.144 32.096 31.808 32.192l222.24 1.248c0.064 0 0.128 0 0.192 0 0.64 0 1.12-0.32 1.76-0.352 0.512 0.032 0.896 0.288 1.408 0.288l0.032 0c17.664 0 31.968-14.304 32-31.968L928 671.584C928.032 653.952 913.728 639.584 896.032 639.552z"  ></path><path d="M209.76 159.744l143.808 0.8c0.064 0 0.128 0 0.192 0 17.6 0 31.904-14.208 32-31.808 0.096-17.696-14.144-32.096-31.808-32.192L131.68 95.328c-0.064 0-0.128 0-0.192 0-0.672 0-1.248 0.352-1.888 0.384-0.448 0-0.8-0.256-1.248-0.256 0 0-0.032 0-0.032 0-17.664 0-31.968 14.304-32 31.968L96 352.448c-0.032 17.664 14.272 32 31.968 32.032 0 0 0.032 0 0.032 0 17.664 0 31.968-14.304 32-31.968l0.224-151.936 200.832 206.4c6.272 6.464 14.624 9.696 22.944 9.696 8.032 0 16.096-3.008 22.304-9.056 12.672-12.32 12.96-32.608 0.64-45.248L209.76 159.744z"  ></path><path d="M362.368 617.056l-202.624 197.184 0.8-143.808c0.096-17.696-14.144-32.096-31.808-32.192-0.064 0-0.128 0-0.192 0-17.6 0-31.904 14.208-32 31.808l-1.248 222.24c0 0.704 0.352 1.312 0.384 2.016 0 0.448-0.256 0.832-0.256 1.312-0.032 17.664 14.272 32 31.968 32.032L352.448 928c0 0 0.032 0 0.032 0 17.664 0 31.968-14.304 32-31.968s-14.272-32-31.968-32.032l-151.936-0.224 206.4-200.832c12.672-12.352 12.96-32.608 0.64-45.248S375.008 604.704 362.368 617.056z"  ></path></symbol><symbol id="icon-living" viewBox="0 0 1024 1024"><path d="M514.133333 488.533333m-106.666666 0a106.666667 106.666667 0 1 0 213.333333 0 106.666667 106.666667 0 1 0-213.333333 0Z" fill="#666666" ></path><path d="M512 64C264.533333 64 64 264.533333 64 512c0 236.8 183.466667 428.8 416 445.866667v-134.4c-53.333333-59.733333-200.533333-230.4-200.533333-334.933334 0-130.133333 104.533333-234.666667 234.666666-234.666666s234.666667 104.533333 234.666667 234.666666c0 61.866667-49.066667 153.6-145.066667 270.933334l-59.733333 68.266666V960C776.533333 942.933333 960 748.8 960 512c0-247.466667-200.533333-448-448-448z" fill="#666666" ></path></symbol><symbol id="icon-close" viewBox="0 0 1024 1024"><path d="M557.312 513.248l265.28-263.904c12.544-12.48 12.608-32.704 0.128-45.248-12.512-12.576-32.704-12.608-45.248-0.128L512.128 467.904l-263.04-263.84c-12.448-12.48-32.704-12.544-45.248-0.064-12.512 12.48-12.544 32.736-0.064 45.28l262.976 263.776L201.6 776.8c-12.544 12.48-12.608 32.704-0.128 45.248a31.937 31.937 0 0 0 22.688 9.44c8.16 0 16.32-3.104 22.56-9.312l265.216-263.808 265.44 266.24c6.24 6.272 14.432 9.408 22.656 9.408a31.94 31.94 0 0 0 22.592-9.344c12.512-12.48 12.544-32.704 0.064-45.248L557.312 513.248z" fill="" ></path></symbol><symbol id="icon-menu" viewBox="0 0 1024 1024"><path d="M109.714 292.571h804.572c21.943 0 36.571-21.942 36.571-43.885 0-14.629-14.628-29.257-36.571-29.257H109.714c-21.943 0-36.571 14.628-36.571 36.571 0 14.629 14.628 36.571 36.571 36.571zM914.286 512H109.714c-21.943 0-36.571 14.629-36.571 36.571 0 14.629 14.628 36.572 36.571 36.572h804.572c21.943 0 36.571-21.943 36.571-43.886 0-14.628-14.628-29.257-36.571-29.257z m0 292.571H109.714c-21.943 0-36.571 14.629-36.571 36.572s14.628 36.571 36.571 36.571h804.572c21.943 0 36.571-21.943 36.571-36.571 0-21.943-14.628-36.572-36.571-36.572z"  ></path></symbol><symbol id="icon-B" viewBox="0 0 1024 1024"><path d="M98.067692 65.457231H481.28c75.854769 0 132.411077 3.150769 169.668923 9.452307 37.336615 6.301538 70.656 19.534769 100.036923 39.620924 29.459692 20.007385 53.956923 46.710154 73.570462 80.029538 19.692308 33.398154 29.459692 70.734769 29.459692 112.167385 0 44.898462-12.130462 86.094769-36.233846 123.588923a224.886154 224.886154 0 0 1-98.461539 84.283077c58.368 17.092923 103.266462 46.08 134.695385 87.04 31.350154 40.96 47.025231 89.088 47.025231 144.462769 0 43.638154-10.082462 86.016-30.404923 127.212308-20.243692 41.196308-47.891692 74.043077-83.02277 98.697846-35.052308 24.654769-78.296615 39.778462-129.732923 45.449846-32.295385 3.465846-110.119385 5.671385-233.472 6.537846H98.067692V65.457231z m193.536 159.507692V446.621538h126.818462c75.460923 0 122.328615-1.024 140.603077-3.229538 33.083077-3.938462 59.155692-15.36 78.139077-34.343385 18.904615-18.904615 28.435692-43.874462 28.435692-74.830769 0-29.696-8.192-53.720615-24.497231-72.310154-16.384-18.510769-40.644923-29.696-72.940307-33.634461-19.140923-2.205538-74.279385-3.308308-165.415385-3.308308h-111.064615z m0 381.243077v256.315077h179.2c69.710769 0 113.979077-1.969231 132.726154-5.907692 28.750769-5.198769 52.145231-17.959385 70.262154-38.281847 18.116923-20.243692 27.096615-47.340308 27.096615-81.368615 0-28.750769-6.931692-53.169231-20.873846-73.255385a118.232615 118.232615 0 0 0-60.494769-43.795692c-26.387692-9.137231-83.574154-13.705846-171.638154-13.705846H291.603692z"  ></path></symbol><symbol id="icon-right" viewBox="0 0 1024 1024"><path d="M385 560.69999999L385 738.9c0 36.90000001 26.4 68.5 61.3 68.5l150.2 0c1.5 0 3-0.1 4.5-0.3 10.2 38.7 45.5 67.3 87.5 67.3 50 0 90.5-40.5 90.5-90.5s-40.5-90.5-90.5-90.5c-42 0-77.3 28.6-87.5 67.39999999-1.4-0.3-2.9-0.4-4.5-0.39999999L446.3 760.4c-6.8 0-14.3-8.9-14.3-21.49999999l0-427.00000001c0-12.7 7.40000001-21.5 14.30000001-21.5l150.19999999 0c1.5 0 3-0.2 4.5-0.4 10.2 38.8 45.5 67.3 87.5 67.3 50 0 90.5-40.5 90.5-90.4 0-49.9-40.5-90.6-90.5-90.59999999-42 0-77.3 28.6-87.5 67.39999999-1.4-0.2-2.9-0.4-4.49999999-0.4L446.3 243.3c-34.80000001 0-61.3 31.6-61.3 68.50000001L385 513.7l-79.1 0c-10.4-38.5-45.49999999-67-87.4-67-50 0-90.5 40.5-90.5 90.5s40.5 90.5 90.5 90.5c41.79999999 0 77.00000001-28.4 87.4-67L385 560.69999999z" fill="#333333" ></path></symbol><symbol id="icon-left" viewBox="0 0 1024 1024"><path d="M639 463.30000001L639 285.1c0-36.90000001-26.4-68.5-61.3-68.5l-150.2 0c-1.5 0-3 0.1-4.5 0.3-10.2-38.7-45.5-67.3-87.5-67.3-50 0-90.5 40.5-90.5 90.5s40.5 90.5 90.5 90.5c42 0 77.3-28.6 87.5-67.39999999 1.4 0.3 2.9 0.4 4.5 0.39999999L577.7 263.6c6.8 0 14.3 8.9 14.3 21.49999999l0 427.00000001c0 12.7-7.40000001 21.5-14.30000001 21.5l-150.19999999 0c-1.5 0-3 0.2-4.5 0.4-10.2-38.8-45.5-67.3-87.5-67.3-50 0-90.5 40.5-90.5 90.4 0 49.9 40.5 90.6 90.5 90.59999999 42 0 77.3-28.6 87.5-67.39999999 1.4 0.2 2.9 0.4 4.49999999 0.4L577.7 780.7c34.80000001 0 61.3-31.6 61.3-68.50000001L639 510.3l79.1 0c10.4 38.5 45.49999999 67 87.4 67 50 0 90.5-40.5 90.5-90.5s-40.5-90.5-90.5-90.5c-41.79999999 0-77.00000001 28.4-87.4 67L639 463.30000001z" fill="#333333" ></path></symbol><symbol id="icon-side" viewBox="0 0 1024 1024"><path d="M851.91168 328.45312c-59.97056 0-108.6208 48.47104-108.91264 108.36992l-137.92768 38.4a109.14304 109.14304 0 0 0-63.46752-46.58688l1.39264-137.11872c47.29344-11.86816 82.31936-54.66624 82.31936-105.64096 0-60.15488-48.76288-108.91776-108.91776-108.91776s-108.91776 48.76288-108.91776 108.91776c0 49.18784 32.60928 90.75712 77.38368 104.27392l-1.41312 138.87488a109.19936 109.19936 0 0 0-63.50336 48.55808l-138.93632-39.48544 0.01024-0.72704c0-60.15488-48.76288-108.91776-108.91776-108.91776s-108.91776 48.75776-108.91776 108.91776c0 60.15488 48.76288 108.91264 108.91776 108.91264 39.3984 0 73.91232-20.92032 93.03552-52.2496l139.19232 39.552-0.00512 0.2304c0 25.8304 9.00096 49.5616 24.02816 68.23424l-90.14272 132.63872a108.7488 108.7488 0 0 0-34.2528-5.504c-60.15488 0-108.91776 48.768-108.91776 108.91776 0 60.16 48.76288 108.91776 108.91776 108.91776 60.16 0 108.92288-48.75776 108.92288-108.91776 0-27.14624-9.9328-51.968-26.36288-71.04l89.04704-131.03104a108.544 108.544 0 0 0 37.6832 6.70208 108.672 108.672 0 0 0 36.48512-6.272l93.13792 132.57216a108.48256 108.48256 0 0 0-24.69888 69.0688c0 60.16 48.768 108.92288 108.91776 108.92288 60.16 0 108.91776-48.76288 108.91776-108.92288 0-60.14976-48.75776-108.91776-108.91776-108.91776a108.80512 108.80512 0 0 0-36.69504 6.3488l-93.07136-132.48a108.48768 108.48768 0 0 0 24.79616-72.22784l136.09984-37.888c18.99008 31.93856 53.84192 53.3504 93.69088 53.3504 60.16 0 108.92288-48.75776 108.92288-108.91264-0.00512-60.15488-48.77312-108.92288-108.92288-108.92288z"  ></path></symbol></svg>';if((e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss")&&!r.__iconfont__svg__cssinject__){r.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()},!1)}else document.attachEvent&&(n=t,i=r.document,o=!1,(a=function(){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(a,50)}e()})(),i.onreadystatechange=function(){"complete"==i.readyState&&(i.onreadystatechange=null,e())});function e(){o||(o=!0,n())}var n,i,o,a}(function(){var e,t,n,i,o,a;(e=document.createElement("div")).innerHTML=c,c=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n=t,(i=document.body).firstChild?(o=n,(a=i.firstChild).parentNode.insertBefore(o,a)):i.appendChild(n))})}(window)},function(e,t,n){"use strict";n.r(t);function u(e,t){if(e.parent=t,e.children)for(var n=0;n<e.children.length;n++)u(e.children[n],e)}function T(e){return B.querySelector("[data-nodeid=me".concat(e,"]"))}function P(e){var t=B.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("class",e),t}function a(e,t,n,i){var o=B.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1",e),o.setAttribute("y1",t),o.setAttribute("x2",n),o.setAttribute("y2",i),o.setAttribute("stroke","#bbb"),o.setAttribute("fill","none"),o.setAttribute("stroke-width","2"),o}var i=n(2),f=0,h=1,z=2,B=document;function A(e,t,n,i){var o=i-t,a=e-n,r=Math.atan(Math.abs(o)/Math.abs(a))/3.14*180;a<0&&0<o&&(r=180-r),a<0&&o<0&&(r=180+r),0<a&&o<0&&(r=360-r);var c=r+30,s=r-30;return{x1:n+20*Math.cos(Math.PI*c/180),y1:i-20*Math.sin(Math.PI*c/180),x2:n+20*Math.cos(Math.PI*s/180),y2:i-20*Math.sin(Math.PI*s/180)}}function D(e,t,n){var i,o,a=(e.cy-n)/(t-e.cx);return o=a>e.h/e.w||a<-e.h/e.w?e.cy-n<0?(i=e.cx-e.h/2/a,e.cy+e.h/2):(i=e.cx+e.h/2/a,e.cy-e.h/2):e.cx-t<0?(i=e.cx+e.w/2,e.cy-e.w*a/2):(i=e.cx-e.w/2,e.cy+e.w*a/2),{x:i,y:o}}function H(e,t,n){var i,o,a=(e.cy-n)/(t-e.cx);return o=a>e.h/e.w||a<-e.h/e.w?e.cy-n<0?(i=e.cx-e.h/2/a,e.cy+e.h/2):(i=e.cx+e.h/2/a,e.cy-e.h/2):e.cx-t<0?(i=e.cx+e.w/2,e.cy-e.w*a/2):(i=e.cx-e.w/2,e.cy+e.w*a/2),{x:i,y:o}}function m(e){var t=B.createElement("t");return t.appendChild(b(e)),t}var b=function(e){var t=B.createElement("tpc");return t.nodeObj=e,t.innerHTML=e.topic,t.dataset.nodeid="me"+e.id,t.draggable=window.mevar_draggable,t},g=function(e){var t=B.createElement("epd");return t.innerHTML=!1!==e?"-":"+",t.expanded=!1!==e,t.className=!1!==e?"minus":"",t};function R(){return((new Date).getTime().toString(16)+Math.random().toString(16).substr(2)).substr(2,16)}function v(){return{topic:"new node",id:R()}}function l(e){var t=e.parent.children,n=t.indexOf(e);return t.splice(n,1),t.length}var r={afterMoving:!1,mousedown:!1,lastX:null,lastY:null,onMove:function(e,t){if(this.mousedown){if(this.afterMoving=!0,!this.lastX)return this.lastX=e.pageX,void(this.lastY=e.pageY);var n=this.lastX-e.pageX,i=this.lastY-e.pageY;t.scrollTo(t.scrollLeft+n,t.scrollTop+i),this.lastX=e.pageX,this.lastY=e.pageY}},clear:function(){this.afterMoving=!1,this.mousedown=!1,this.lastX=null,this.lastY=null}};function y(e){this.dom=e,this.mousedown=!1,this.lastX=null,this.lastY=null}y.prototype.init=function(e,i){var o=this;this.handleMouseMove=function(e){if(e.stopPropagation(),o.mousedown){if(!o.lastX)return o.lastX=e.pageX,void(o.lastY=e.pageY);var t=o.lastX-e.pageX,n=o.lastY-e.pageY;i(t,n),o.lastX=e.pageX,o.lastY=e.pageY}},this.handleMouseDown=function(e){e.stopPropagation(),o.mousedown=!0},this.handleClear=function(e){e.stopPropagation(),o.clear()},e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("mouseleave",this.handleClear),e.addEventListener("mouseup",this.handleClear),this.dom.addEventListener("mousedown",this.handleMouseDown)},y.prototype.destory=function(e){e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("mouseleave",this.handleClear),e.removeEventListener("mouseup",this.handleClear),this.dom.removeEventListener("mousedown",this.handleMouseDown)},y.prototype.clear=function(){this.mousedown=!1,this.lastX=null,this.lastY=null};var x=document;function w(e){var t="http://www.w3.org/2000/svg",n=["#004c6d","#346888","#5886a5","#7aa6c2","#9dc6e0","#c1e7ff"],i=document.createElementNS(t,"svg:svg");i.setAttribute("width",160),i.setAttribute("height",90),i.setAttribute("style","display:block;");for(var o=0,a=0;a<e.length;a++)o+=e[a].value;for(var r=[],c=0;c<e.length;c++)r[c]=e[c].value/o*Math.PI*2;for(var s=0,l=0;l<e.length;l++){var d=s+r[l],p=45+35*Math.sin(s),u=45-35*Math.cos(s),f=45+35*Math.sin(d),h=45-35*Math.cos(d),m=document.createElementNS(t,"path"),b="M ".concat(45,",").concat(45," L ").concat(p,",").concat(u," A ").concat(35,",").concat(35," 0 0 1 ").concat(f,",").concat(h," Z");m.setAttribute("d",b),m.setAttribute("fill",n[l]),i.appendChild(m),s=d;var g=document.createElementNS(t,"rect");g.setAttribute("x",105),g.setAttribute("y",15+15*l),g.setAttribute("width",10),g.setAttribute("height",10),g.setAttribute("fill",n[l]),i.appendChild(g);var v=document.createElementNS(t,"text");v.setAttribute("x",155),v.setAttribute("y",15+15*l+10),v.setAttribute("font-family","sans-serif"),v.setAttribute("font-size","14"),v.appendChild(document.createTextNode(e[l].label)),i.appendChild(v)}return i}var N=document;function k(e,t,n){var i=N.createElement("children");t&&(i=t);for(var o=0;o<e.length;o++){var a=e[o],r=N.createElement("GRP"),c=N.createElement("t"),s=b(a);if(t&&(n===f?r.className="left-side":n===h?r.className="right-side":n===z&&(a.direction===f?r.className="left-side":a.direction===h&&(r.className="right-side"))),a.style&&(s.style.color=a.style.color,s.style.background=a.style.background,s.style.fontSize=a.style.fontSize+"px",s.style.fontWeight=a.style.fontWeight||"normal"),a.icons){var l=N.createElement("span");l.className="icons",l.innerHTML=a.icons.map(function(e){return"<span>".concat(e,"</span>")}).join(""),s.appendChild(l)}if(a.tags){var d=N.createElement("div");d.className="tags",d.innerHTML=a.tags.map(function(e){return"<span>".concat(e,"</span>")}).join(""),s.appendChild(d)}if(a.pie){var p=N.createElement("div");p.className="pie";p.appendChild(w([{value:12,label:"a"},{value:15,label:"b"},{value:42,label:"c"},{value:33,label:"d"}])),s.appendChild(p)}if(c.appendChild(s),a.children&&0<a.children.length){if(c.appendChild(g(a.expanded)),r.appendChild(c),!1!==a.expanded){var u=k(a.children);r.appendChild(u)}}else r.appendChild(c);i.appendChild(r)}return i}function c(o){function e(e,t,n){var i=document.createElement("li");return i.id=e,i.innerHTML="<span>".concat(t,"</span><span>").concat(n,"</span>"),i}var t=C[o.locale]?o.locale:"en",n=e("cm-add_child",C[t].addChild,"tab"),i=e("cm-add_sibling",C[t].addSibling,"enter"),a=e("cm-remove_child",C[t].removeNode,"delete"),r=e("cm-fucus",C[t].focus,""),c=e("cm-unfucus",C[t].cancelFocus,""),s=e("cm-up",C[t].moveUp,"PgUp"),l=e("cm-down",C[t].moveDown,"Pgdn"),d=e("cm-down",C[t].link,""),p=document.createElement("ul");p.className="menu-list",p.appendChild(n),p.appendChild(i),p.appendChild(a),p.appendChild(r),p.appendChild(c),p.appendChild(s),p.appendChild(l),p.appendChild(d);var u=document.createElement("cmenu");u.appendChild(p),u.hidden=!0,o.container.append(u),o.container.oncontextmenu=function(e){e.preventDefault();var t=e.target;if("TPC"===t.tagName){o.selectNode(t),u.hidden=!1;var n=p.offsetHeight,i=p.offsetWidth;n+e.pageY>window.innerHeight?(p.style.top="",p.style.bottom="0px"):(p.style.bottom="",p.style.top=e.pageY+15+"px"),i+e.pageX>window.innerWidth?(p.style.left="",p.style.right="0px"):(p.style.right="",p.style.left=e.pageX+10+"px")}},o.container.onclick=function(e){u.hidden=!0},n.onclick=function(e){o.addChild()},i.onclick=function(e){o.insertSibling()},a.onclick=function(e){o.removeNode()},r.onclick=function(e){o.focusNode(o.currentNode)},c.onclick=function(e){o.cancelFocus()},s.onclick=function(e){o.moveUpNode()},l.onclick=function(e){o.moveDownNode()},d.onclick=function(e){var t=o.currentNode;o.map.addEventListener("click",function(e){e.preventDefault(),"T"!==e.target.parentElement.nodeName&&"ROOT"!==e.target.parentElement.nodeName||o.createLink(t,o.currentNode)},{once:!0})}}function o(e,t){var n=document.createElement("span");return n.id=e,n.innerHTML='<svg class="icon" aria-hidden="true">\n    <use xlink:href="#icon-'.concat(t,'"></use>\n  </svg>'),n}var C={cn:{addChild:"插入子节点",addSibling:"插入同级节点",removeNode:"删除节点",focus:"专注",cancelFocus:"取消专注",moveUp:"上移",moveDown:"下移",link:"连接",font:"文字",background:"背景",tag:"标签",icon:"图标",tagsSeparate:"多个标签半角逗号分隔",iconsSeparate:"多个图标半角逗号分隔"},en:{addChild:"Add a child",addSibling:"Add a sibling",removeNode:"Remove node",focus:"Focus Mode",cancelFocus:"Cancel Focus Mode",moveUp:"Move up",moveDown:"Move down",link:"Link",font:"Font",background:"Background",tag:"Tag",icon:"Icon",tagsSeparate:"Separate tags by comma",iconsSeparate:"Separate icons by comma"},ja:{addChild:"子ノードを追加する",addSibling:"兄弟ノードを追加する",removeNode:"ノードを削除",focus:"集中",cancelFocus:"集中解除",moveUp:"上へ移動",moveDown:"下へ移動",link:"コネクト",font:"フォント",background:"バックグラウンド",tag:"タグ",icon:"アイコン",tagsSeparate:"複数タグはカンマ区切り",iconsSeparate:"複数アイコンはカンマ区切り"}},s=document.createElement("toolbar"),d=o("fullscreen","full"),p=o("toCenter","living"),L=o("zoomout","move"),E=o("zoomin","add");document.createElement("span").innerHTML="100%",s.appendChild(d),s.appendChild(p),s.appendChild(L),s.appendChild(E),s.className="rb";var S=document.createElement("toolbar"),M=o("tbltl","left"),O=o("tbltr","right"),j=o("tblts","side");S.appendChild(M),S.appendChild(O),S.appendChild(j),S.className="lt";function I(n){function e(e,t){var n=document.createElement("div");return n.id=e,n.innerHTML="<span>".concat(t,"</span>"),n}var i,t=C[n.locale]?n.locale:"en",o=e("nm-style","style"),a=e("nm-tag","tag"),r=e("nm-icon","icon");o.innerHTML='\n      <div class="nm-fontsize-container">\n        '.concat(["15","24","32"].map(function(e){return'<div class="size"  data-size="'.concat(e,'">\n        <svg class="icon" style="width: ').concat(e,"px;height: ").concat(e,'px" aria-hidden="true">\n          <use xlink:href="#icon-a"></use>\n        </svg></div>')}).join(""),'<div class="bold"><svg class="icon" aria-hidden="true">\n  <use xlink:href="#icon-B"></use>\n  </svg></div>\n      </div>\n      <div class="nm-fontcolor-container">\n        ').concat(["#2c3e50","#34495e","#7f8c8d","#94a5a6","#bdc3c7","#ecf0f1","#8e44ad","#9b59b6","#2980b9","#3298db","#c0392c","#e74c3c","#d35400","#f39c11","#f1c40e","#17a085","#27ae61","#2ecc71"].map(function(e){return'<div class="split6"><div class="palette" data-color="'.concat(e,'" style="background-color: ').concat(e,';"></div></div>')}).join(""),'\n      </div>\n      <div class="bof">\n      <span class="font">').concat(C[t].font,'</span>\n      <span class="background">').concat(C[t].background,"</span>\n      </div>\n  "),a.innerHTML="\n      ".concat(C[t].tag,'<input class="nm-tag" tabindex="-1" placeholder="').concat(C[t].tagsSeparate,'" /><br>\n  '),r.innerHTML="\n      ".concat(C[t].icon,'<input class="nm-icon" tabindex="-1" placeholder="').concat(C[t].iconsSeparate,'" /><br>\n  ');var c=document.createElement("nmenu");function s(e,t){var n=document.querySelectorAll(e);[].forEach.call(n,function(e){e.classList.remove(t)})}c.innerHTML='\n  <div class="button-container"><svg class="icon" aria-hidden="true">\n  <use xlink:href="#icon-close"></use>\n  </svg></div>\n  ',c.appendChild(o),c.appendChild(a),c.appendChild(r),c.hidden=!0,n.container.append(c);var l=c.querySelectorAll(".size"),d=c.querySelector(".bold"),p=c.querySelector(".button-container"),u=c.querySelector(".font"),f=document.querySelector(".nm-tag"),h=document.querySelector(".nm-icon");c.onclick=function(e){if(n.currentNode){var t=n.currentNode.nodeObj;"palette"===e.target.className?(t.style||(t.style={}),s(".palette","nmenu-selected"),e.target.className="palette nmenu-selected","font"===i?t.style.color=e.target.dataset.color:"background"===i&&(t.style.background=e.target.dataset.color),n.updateNodeStyle(t)):"background"===e.target.className?(s(".palette","nmenu-selected"),i="background",e.target.className="background selected",e.target.previousElementSibling.className="font",t.style&&t.style.background&&(c.querySelector('.palette[data-color="'+t.style.background+'"]').className="palette nmenu-selected")):"font"===e.target.className&&(s(".palette","nmenu-selected"),i="font",e.target.className="font selected",e.target.nextElementSibling.className="background",t.style&&t.style.color&&(c.querySelector('.palette[data-color="'+t.style.color+'"]').className="palette nmenu-selected"))}},Array.from(l).map(function(e){return e.onclick=function(e){n.currentNode.nodeObj.style||(n.currentNode.nodeObj.style={}),s(".size","size-selected");var t=e.currentTarget;n.currentNode.nodeObj.style.fontSize=t.dataset.size,t.className="size size-selected",n.updateNodeStyle(n.currentNode.nodeObj)}}),d.onclick=function(e){n.currentNode.nodeObj.style||(n.currentNode.nodeObj.style={}),"bold"===n.currentNode.nodeObj.style.fontWeight?(delete n.currentNode.nodeObj.style.fontWeight,e.currentTarget.className="bold"):(n.currentNode.nodeObj.style.fontWeight="bold",e.currentTarget.className="bold size-selected"),n.updateNodeStyle(n.currentNode.nodeObj)},f.onchange=function(e){n.currentNode&&(e.target.value?n.currentNode.nodeObj.tags=e.target.value.split(","):n.currentNode.nodeObj.tags=[],n.updateNodeTags(n.currentNode.nodeObj))},h.onchange=function(e){n.currentNode&&(n.currentNode.nodeObj.icons=e.target.value.split(","),n.updateNodeIcons(n.currentNode.nodeObj))};var m="open";p.onclick=function(e){"open"===m?(m="close",c.className="close",p.innerHTML='<svg class="icon" aria-hidden="true">\n    <use xlink:href="#icon-menu"></use>\n    </svg>'):(m="open",c.className="",p.innerHTML='<svg class="icon" aria-hidden="true">\n    <use xlink:href="#icon-close"></use>\n    </svg>')},n.bus.addListener("unselectNode",function(){c.hidden=!0}),n.bus.addListener("selectNode",function(e){c.hidden=!1,s(".palette","nmenu-selected"),s(".size","size-selected"),s(".bold","size-selected"),i="font",u.className="font selected",u.nextElementSibling.className="background",e.style&&(e.style.fontSize&&(c.querySelector('.size[data-size="'+e.style.fontSize+'"]').className="size size-selected"),e.style.fontWeight&&(c.querySelector(".bold").className="bold size-selected"),e.style.color&&(c.querySelector('.palette[data-color="'+e.style.color+'"]').className="palette nmenu-selected")),e.tags?f.value=e.tags.join(","):f.value="",e.icons?h.value=e.icons.join(","):h.value=""})}
/*!
 * hotkeys-js v3.7.3
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2019 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */
function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var U="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function _(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function V(e,t){for(var n=t.slice(0,t.length-1),i=0;i<n.length;i++)n[i]=e[n[i].toLowerCase()];return n}function W(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");0<=n;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var F={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":U?173:189,"=":U?61:187,";":U?59:186,"'":222,"[":219,"]":221,"\\":220},X={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},K={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Y={16:!1,18:!1,17:!1,91:!1},G={},J=1;J<20;J++)F["f".concat(J)]=111+J;var Z=[],$="all",Q=[],ee=function(e){return F[e.toLowerCase()]||X[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function te(e){$=e||"all"}function ne(){return $||"all"}function ie(e){var t=e.key,r=e.scope,c=e.method,n=e.splitKey,s=void 0===n?"+":n;W(t).forEach(function(e){var t=e.split(s),n=t.length,i=t[n-1],o="*"===i?"*":ee(i);if(G[o]){r=r||ne();var a=1<n?V(X,t):[];G[o]=G[o].map(function(e){return c&&e.method!==c||e.scope!==r||!function(e,t){for(var n=e.length>=t.length?e:t,i=e.length>=t.length?t:e,o=!0,a=0;a<n.length;a++)-1===i.indexOf(n[a])&&(o=!1);return o}(e.mods,a)?e:{}})}})}function oe(e,t,n){var i;if(t.scope===n||"all"===t.scope){for(var o in i=0<t.mods.length,Y)Object.prototype.hasOwnProperty.call(Y,o)&&(!Y[o]&&-1<t.mods.indexOf(+o)||Y[o]&&-1===t.mods.indexOf(+o))&&(i=!1);(0!==t.mods.length||Y[16]||Y[18]||Y[17]||Y[91])&&!i&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function ae(n){var e=G["*"],t=n.keyCode||n.which||n.charCode;if(re.filter.call(this,n)){if(93!==t&&224!==t||(t=91),-1===Z.indexOf(t)&&229!==t&&Z.push(t),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(e){var t=K[e];n[e]&&-1===Z.indexOf(t)?Z.push(t):!n[e]&&-1<Z.indexOf(t)&&Z.splice(Z.indexOf(t),1)}),t in Y){for(var i in Y[t]=!0,X)X[i]===t&&(re[i]=!0);if(!e)return}for(var o in Y)Object.prototype.hasOwnProperty.call(Y,o)&&(Y[o]=n[K[o]]);var a=ne();if(e)for(var r=0;r<e.length;r++)e[r].scope===a&&("keydown"===n.type&&e[r].keydown||"keyup"===n.type&&e[r].keyup)&&oe(n,e[r],a);if(t in G)for(var c=0;c<G[t].length;c++)if(("keydown"===n.type&&G[t][c].keydown||"keyup"===n.type&&G[t][c].keyup)&&G[t][c].key){for(var s=G[t][c],l=s.splitKey,d=s.key.split(l),p=[],u=0;u<d.length;u++)p.push(ee(d[u]));p.sort().join("")===Z.sort().join("")&&oe(n,s,a)}}}function re(e,t,n){Z=[];var i,o=W(e),a=[],r="all",c=document,s=0,l=!1,d=!0,p="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(r=t.scope),t.element&&(c=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(d=t.keydown),"string"==typeof t.splitKey&&(p=t.splitKey)),"string"==typeof t&&(r=t);s<o.length;s++)a=[],1<(e=o[s].split(p)).length&&(a=V(X,e)),(e="*"===(e=e[e.length-1])?"*":ee(e))in G||(G[e]=[]),G[e].push({keyup:l,keydown:d,scope:r,mods:a,shortcut:o[s],method:n,key:o[s],splitKey:p});void 0===c||(i=c,-1<Q.indexOf(i))||!window||(Q.push(c),_(c,"keydown",function(e){ae(e)}),_(window,"focus",function(){Z=[]}),_(c,"keyup",function(e){ae(e),function(e){var t=e.keyCode||e.which||e.charCode,n=Z.indexOf(t);if(0<=n&&Z.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&Z.splice(0,Z.length),93!==t&&224!==t||(t=91),t in Y)for(var i in Y[t]=!1,X)X[i]===t&&(re[i]=!1)}(e)}))}var ce={setScope:te,getScope:ne,deleteScope:function(e,t){var n,i;for(var o in e=e||ne(),G)if(Object.prototype.hasOwnProperty.call(G,o))for(n=G[o],i=0;i<n.length;)n[i].scope===e?n.splice(i,1):i++;ne()===e&&te(t||"all")},getPressedKeyCodes:function(){return Z.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=ee(e)),-1!==Z.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,i=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n||t.readOnly)||(i=!1),i},unbind:function(e){if(e){if(Array.isArray(e))e.forEach(function(e){e.key&&ie(e)});else if("object"===q(e))e.key&&ie(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=n[0],a=n[1];"function"==typeof o&&(a=o,o=""),ie({key:e,scope:o,method:a,splitKey:"+"})}}else Object.keys(G).forEach(function(e){return delete G[e]})}};for(var se in ce)Object.prototype.hasOwnProperty.call(ce,se)&&(re[se]=ce[se]);if("undefined"!=typeof window){var le=window.hotkeys;re.noConflict=function(e){return e&&window.hotkeys===re&&(window.hotkeys=le),re},window.hotkeys=re}var de=re;function pe(){this.handlers={}}pe.prototype={showHandler:function(){},addListener:function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t)},fire:function(e,t){if(this.handlers[e]instanceof Array)for(var n=this.handlers[e],i=0;i<n.length;i++)n[i](t)},removeListener:function(e,t){if(this.handlers[e]){var n=this.handlers[e];if(null==t)n.length=0;else if(n.length)for(var i=0;i<n.length;i++)n[i]==t&&this.handlers[e].splice(i,1)}}};n(3),n(6),n(8),n(10),n(12);n.d(t,"E",function(){return ue});var ue=window.E=T,fe=document;function he(e){var t=e.el,n=e.data,i=e.direction,o=e.locale,a=e.draggable,r=e.editable,c=e.contextMenu,s=e.toolBar,l=e.nodeMenu,d=e.keypress;this.mindElixirBox=document.querySelector(t),this.history=[],this.nodeData=n.nodeData||{},this.linkData=n.linkData||{},this.locale=o,this.nodeDataBackup=this.nodeData,this.contextMenu=void 0===c||c,this.toolBar=void 0===s||s,this.nodeMenu=void 0===l||l,this.keypress=void 0===d||d,this.direction="number"==typeof i?i:1,window.mevar_draggable=void 0===a||a,this.editable=void 0===r||r,this.parentMap={},this.currentNode=null,this.currentLink=null,this.inputDiv=null,this.bus=new pe,this.scaleVal=1,this.tempDir=null,u(this.nodeData)}he.prototype={insertSibling:function(e){var t=e||this.currentNode;if(t){var n=t.nodeObj;if(!0!==n.root){var i,o,a,r,c=v();o=c,a=(i=n).parent.children,r=a.indexOf(i),a.splice(r+1,0,o),u(this.nodeData);var s=t.parentElement,l=x.createElement("GRP"),d=m(c);l.appendChild(d);var p=s.parentNode.parentNode;"box"===p.className&&this.processPrimaryNode(l,c),p.insertBefore(l,s.parentNode.nextSibling),this.createInputDiv(d.children[0]),this.selectNode(d.children[0]),this.linkDiv(l.offsetParent),this.inputDiv.scrollIntoViewIfNeeded(),this.bus.fire("operation",{name:"insertSibling",obj:c})}else this.addChild()}},addChild:function(e){var t=e||this.currentNode;if(t){var n=t.nodeObj;if(!1!==n.expanded){var i=v();n.expanded=!0,n.children?n.children.push(i):n.children=[i],u(this.nodeData);var o=t.parentElement,a=x.createElement("GRP"),r=m(i);if(a.appendChild(r),"T"===o.tagName)if(o.children[1])o.nextSibling.appendChild(a);else{var c=x.createElement("children");c.appendChild(a),o.appendChild(g(!0)),o.parentElement.insertBefore(c,o.nextSibling)}else"ROOT"===o.tagName&&(this.processPrimaryNode(a,i),o.nextSibling.appendChild(a));this.createInputDiv(r.children[0]),this.selectNode(r.children[0]),this.linkDiv(a.offsetParent),this.inputDiv.scrollIntoViewIfNeeded(),this.bus.fire("operation",{name:"addChild",obj:i})}}},removeNode:function(e){var t=e||this.currentNode;if(t){this.bus.fire("operation",{name:"removeNode",obj:t.nodeObj});var n=l(t.nodeObj);if("T"===(t=t.parentNode).tagName){if(0===n){var i=t.parentNode.parentNode.previousSibling;"ROOT"!==i.tagName&&i.children[1].remove(),this.selectParent()}else{this.selectPrevSibling()||this.selectNextSibling()}for(var o in this.linkData){var a=this.linkData[o];a.from!==t.firstChild&&a.to!==t.firstChild||this.removeLink(document.querySelector("[data-linkid=".concat(this.linkData[o].id,"]")))}t.parentNode.remove()}this.linkDiv()}},moveNode:function(e,t){var n=e.nodeObj,i=t.nodeObj;if(!1!==i.expanded&&function(e,t){for(var n=!0;t.parent;){if(t.parent===e){n=!1;break}t=t.parent}return n}(n,i)){var o,a;a=i,l(o=n),a.children?a.children.push(o):a.children=[o],u(this.nodeData);var r=e.parentElement,c=t.parentElement;if("box"===r.parentNode.parentNode.className?r.parentNode.lastChild.remove():"box"===r.parentNode.className&&(r.style.cssText=""),"T"===c.tagName)if("box"===r.parentNode.parentNode.className&&(r.parentNode.className=""),c.children[1])c.nextSibling.appendChild(r.parentNode);else{var s=x.createElement("children");s.appendChild(r.parentNode),c.appendChild(g(!0)),c.parentElement.insertBefore(s,c.nextSibling)}else"ROOT"===c.tagName&&(this.processPrimaryNode(r.parentNode,n),c.nextSibling.appendChild(r.parentNode));this.linkDiv(),this.bus.fire("operation",{name:"moveNode",obj:{fromObj:n,toObj:i}})}},moveUpNode:function(e){var t=e||this.currentNode;if(t){var n,i,o,a,r=t.parentNode.parentNode,c=t.nodeObj;i=(n=c).parent.children,o=i.indexOf(n),a=i[o],0===o?(i[o]=i[i.length-1],i[i.length-1]=a):(i[o]=i[o-1],i[o-1]=a),a=null,r.parentNode.insertBefore(r,r.previousSibling),this.linkDiv(),t.scrollIntoViewIfNeeded()}},moveDownNode:function(e){var t=e||this.currentNode;if(t){var n,i,o,a,r=t.parentNode.parentNode,c=t.nodeObj;i=(n=c).parent.children,o=i.indexOf(n),a=i[o],o===i.length-1?(i[o]=i[0],i[0]=a):(i[o]=i[o+1],i[o+1]=a),a=null,r.nextSibling?r.parentNode.insertBefore(r,r.nextSibling.nextSibling):r.parentNode.prepend(r),this.linkDiv(),t.scrollIntoViewIfNeeded()}},beginEdit:function(e){var t=e||this.currentNode;t&&this.createInputDiv(t)},updateNodeStyle:function(e){if(e.style){var t=T(e.id);t.style.color=e.style.color,t.style.background=e.style.background,t.style.fontSize=e.style.fontSize+"px",t.style.fontWeight=e.style.fontWeight||"normal",this.linkDiv()}},updateNodeTags:function(e){if(e.tags){var t=T(e.id),n=e.tags,i=t.querySelector(".tags");if(i)i.innerHTML=n.map(function(e){return"<span>".concat(e,"</span>")}).join("");else{var o=x.createElement("div");o.className="tags",o.innerHTML=n.map(function(e){return"<span>".concat(e,"</span>")}).join(""),t.appendChild(o)}this.linkDiv()}},updateNodeIcons:function(e){if(e.icons){var t=T(e.id),n=e.icons,i=t.querySelector(".icons");if(i)i.innerHTML=n.map(function(e){return"<span>".concat(e,"</span>")}).join("");else{var o=x.createElement("span");o.className="icons",o.innerHTML=n.map(function(e){return"<span>".concat(e,"</span>")}).join(""),"tags"===t.lastChild.className?t.insertBefore(o,t.lastChild):t.appendChild(o)}this.linkDiv()}},createLink:function(e,t,n,i){var o=this.map.getBoundingClientRect();if(e&&t){var a,r,c,s,l=e.getBoundingClientRect(),d=t.getBoundingClientRect(),p=(l.x+l.width/2-o.x)/this.scaleVal,u=(l.y+l.height/2-o.y)/this.scaleVal,f=(d.x+d.width/2-o.x)/this.scaleVal,h=(d.y+d.height/2-o.y)/this.scaleVal;s=n?(a=p+i.delta1.x,r=u+i.delta1.y,c=f+i.delta2.x,h+i.delta2.y):(u+h)/2-u<=l.height/2?(a=(l.x+l.width-o.x)/this.scaleVal+100,r=u,c=(d.x+d.width-o.x)/this.scaleVal+100,h):(c=a=(p+f)/2,r=(u+h)/2);var m,b,g,v,y,x,w={cx:p,cy:u,w:l.width,h:l.height},N={cx:f,cy:h,w:d.width,h:d.height},k=D(w,a,r),C=k.x,L=k.y,E=H(N,c,s),S=E.x,M=E.y,O=A(c,s,S,M),j=(m="M ".concat(C," ").concat(L," C ").concat(a," ").concat(r," ").concat(c," ").concat(s," ").concat(S," ").concat(M),b="M ".concat(O.x1," ").concat(O.y1," L ").concat(S," ").concat(M," L ").concat(O.x2," ").concat(O.y2),g=B.createElementNS("http://www.w3.org/2000/svg","g"),v=B.createElementNS("http://www.w3.org/2000/svg","path"),(y=B.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",b),y.setAttribute("stroke","rgb(235, 95, 82)"),y.setAttribute("fill","none"),y.setAttribute("stroke-linecap","cap"),y.setAttribute("stroke-width","2"),v.setAttribute("d",m),v.setAttribute("stroke","rgb(235, 95, 82)"),v.setAttribute("fill","none"),v.setAttribute("stroke-linecap","cap"),v.setAttribute("stroke-width","2"),g.appendChild(v),g.appendChild(y),g);n?(x={id:i.id,label:"",from:e,to:t,delta1:{x:a-p,y:r-u},delta2:{x:c-f,y:s-h}},this.linkData[i.id]=x,j.linkObj=x,j.dataset.linkid=i.id):(x={id:R(),label:"",from:e,to:t,delta1:{x:a-p,y:r-u},delta2:{x:c-f,y:s-h}},this.linkData[x.id]=x,j.linkObj=x,j.dataset.linkid=x.id,this.currentLink=j),this.linkSvgGroup.appendChild(j),n||this.showLinkController(a,r,c,s,x,w,N)}},removeLink:function(e){var t;if(t=e||this.currentLink){this.hideLinkController();var n=t.linkObj.id;delete this.linkData[n],t.remove(),t=null}},selectLink:function(e){var t=(this.currentLink=e).linkObj,n=t.from,i=t.to,o=this.map.getBoundingClientRect(),a=n.getBoundingClientRect(),r=i.getBoundingClientRect(),c=(a.x+a.width/2-o.x)/this.scaleVal,s=(a.y+a.height/2-o.y)/this.scaleVal,l=(r.x+r.width/2-o.x)/this.scaleVal,d=(r.y+r.height/2-o.y)/this.scaleVal,p={cx:c,cy:s,w:a.width,h:a.height},u={cx:l,cy:d,w:r.width,h:r.height},f=c+t.delta1.x,h=s+t.delta1.y,m=l+t.delta2.x,b=d+t.delta2.y;this.showLinkController(f,h,m,b,t,p,u)},hideLinkController:function(){this.linkController.style.display="none",this.P2.style.display="none",this.P3.style.display="none"},showLinkController:function(o,a,r,c,s,i,l){var d=this;this.linkController.style.display="initial",this.P2.style.display="initial",this.P3.style.display="initial";var e=D(i,o,a),p=e.x,u=e.y,t=H(l,r,c),f=t.x,h=t.y;this.P2.style.cssText="top:".concat(a,"px;left:").concat(o,"px;"),this.P3.style.cssText="top:".concat(c,"px;left:").concat(r,"px;"),this.line1.setAttribute("x1",p),this.line1.setAttribute("y1",u),this.line1.setAttribute("x2",o),this.line1.setAttribute("y2",a),this.line2.setAttribute("x1",r),this.line2.setAttribute("y1",c),this.line2.setAttribute("x2",f),this.line2.setAttribute("y2",h),this.helper1&&(this.helper1.destory(this.map),this.helper2.destory(this.map)),this.helper1=new y(this.P2),this.helper2=new y(this.P3),this.helper1.init(this.map,function(e,t){o-=e/d.scaleVal,a-=t/d.scaleVal;var n=D(i,o,a);p=n.x,u=n.y,d.P2.style.top=a+"px",d.P2.style.left=o+"px",d.currentLink.children[0].setAttribute("d","M ".concat(p," ").concat(u," C ").concat(o," ").concat(a," ").concat(r," ").concat(c," ").concat(f," ").concat(h)),d.line1.setAttribute("x1",p),d.line1.setAttribute("y1",u),d.line1.setAttribute("x2",o),d.line1.setAttribute("y2",a),s.delta1.x=o-i.cx,s.delta1.y=a-i.cy}),this.helper2.init(this.map,function(e,t){r-=e/d.scaleVal,c-=t/d.scaleVal;var n=H(l,r,c);f=n.x,h=n.y;var i=A(r,c,f,h);d.P3.style.top=c+"px",d.P3.style.left=r+"px",d.currentLink.children[0].setAttribute("d","M ".concat(p," ").concat(u," C ").concat(o," ").concat(a," ").concat(r," ").concat(c," ").concat(f," ").concat(h)),d.currentLink.children[1].setAttribute("d","M ".concat(i.x1," ").concat(i.y1," L ").concat(f," ").concat(h," L ").concat(i.x2," ").concat(i.y2)),d.line2.setAttribute("x1",r),d.line2.setAttribute("y1",c),d.line2.setAttribute("x2",f),d.line2.setAttribute("y2",h),s.delta2.x=r-l.cx,s.delta2.y=c-l.cy})},layout:function(){this.root.innerHTML="",this.box.innerHTML="";var e=b(this.nodeData);e.draggable=!1,this.root.appendChild(e);var t=this.nodeData.children;if(t&&0!==t.length)if(this.direction===f||this.direction===h)k(this.nodeData.children,this.box,this.direction);else if(this.direction===z){var n=0,i=0;t.map(function(e){void 0===e.direction?n<=i?(e.direction=f,n+=1):(e.direction=h,i+=1):e.direction===f?n+=1:i+=1}),k(this.nodeData.children,this.box,z)}},linkDiv:function(e){var t=this.root;t.style.cssText="top:".concat(1e4-t.offsetHeight/2,"px;left:").concat(1e4-t.offsetWidth/2,"px;");var n=this.box.children;this.svg2nd.innerHTML="";var i,o,a=0,r=0,c=0,s=0,l=0,d=0;if(this.direction===z){for(var p=0,u=0,f=0,h=0,m=0;m<n.length;m++){var b=n[m];"left-side"===b.className?(l+=b.offsetHeight+25,f+=b.offsetHeight,p+=1):(d+=b.offsetHeight+25,h+=b.offsetHeight,u+=1)}r=d<l?(o=1e4-Math.max(l)/2,i="r",(l-h)/(u-1)):(o=1e4-Math.max(d)/2,i="l",(d-f)/(p-1))}else{for(var g=0;g<n.length;g++){a+=n[g].offsetHeight+25}o=1e4-a/2}for(var v,y,x="",w=0;w<n.length;w++){var N=void 0,k=void 0,C=this.root,L=n[w],E=L.offsetHeight,S=void 0;"left-side"===L.className?(L.style.top=o+c+"px",L.style.left=1e4-C.offsetWidth/2-65-L.offsetWidth+"px",N=1e4-C.offsetWidth/2-65-15,S=(k=o+c+E/2)+(l-E)/2*.02,x+="M ".concat(1e4," ",1e4," C 10000 10000 ",10003.9," ").concat(S," ").concat(N," ").concat(k),c+="l"===i?E+r:E+25):(L.style.top=o+s+"px",L.style.left=1e4+C.offsetWidth/2+65+"px",N=1e4+C.offsetWidth/2+65+15,S=(k=o+s+E/2)+(d-E)/2*.02,x+="M ".concat(1e4," ",1e4," C 10000 10000 ",10003.9," ").concat(S," ").concat(N," ").concat(k),s+="r"===i?E+r:E+25);var M=L.children[0].children[1];M&&(M.style.top=(M.parentNode.offsetHeight-M.offsetHeight)/2+"px","left-side"===L.className?M.style.left="-10px":M.style.left=M.parentNode.offsetWidth-10+"px")}this.svg2nd.appendChild((v=x,(y=B.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",v),y.setAttribute("stroke","#666"),y.setAttribute("fill","none"),y.setAttribute("stroke-width","2"),y));for(var O=0;O<n.length;O++){var j=n[O];e&&e!==n[O]||j.childElementCount&&function(){var e=P("svg3rd");"svg"===j.lastChild.tagName&&j.lastChild.remove(),j.appendChild(e);var t,n,i=j.children[0],o=j.children[1].children,w="";!function e(t,n,i){for(var o=n.offsetTop,a=n.offsetLeft,r=n.offsetWidth,c=n.offsetHeight,s=0;s<t.length;s++){var l=t[s],d=l.children[0],p=d.offsetTop,u=d.offsetHeight,f=void 0;f=i?o+c/2:o+c;var h=p+u,m=void 0,b=void 0,g=void 0,v=l.offsetParent.className;"left-side"===v?(m=a+15,b=(g=a)-d.offsetWidth,w+=p+u<o+c/2+50&&o+c/2-50<p+u?"M ".concat(m," ").concat(f," L ").concat(g," ").concat(f," L ").concat(g," ").concat(h," L ").concat(b," ").concat(h):o+c/2<=p+u?"M ".concat(m," ").concat(f," \n            L ").concat(g," ").concat(f," \n            L ").concat(g," ").concat(h-8," \n            A ").concat(8," ").concat(8," 0 0 1 \n            ").concat(g-8,",").concat(h," \n            L ").concat(b," ").concat(h):"M ".concat(m," ").concat(f," \n            L ").concat(g," ").concat(f," \n            L ").concat(g," ").concat(h+8," \n            A ").concat(8," ").concat(8," 0 0 0 \n            ").concat(g-8,",").concat(h," \n            L ").concat(b," ").concat(h)):"right-side"===v&&(m=a+r-15,b=(g=a+r)+d.offsetWidth,w+=p+u<o+c/2+50&&o+c/2-50<p+u?"M ".concat(m," ").concat(f," L ").concat(g," ").concat(f," L ").concat(g," ").concat(h," L ").concat(b," ").concat(h):o+c/2<=p+u?"M ".concat(m," ").concat(f," \n            L ").concat(g," ").concat(f," \n            L ").concat(g," ").concat(h-8," \n            A ").concat(8," ").concat(8," 0 0 0 ").concat(g+8,",").concat(h," \n            L ").concat(b," ").concat(h):"M ".concat(m," ").concat(f," \n            L ").concat(g," ").concat(f," \n            L ").concat(g," ").concat(h+8," \n            A ").concat(8," ").concat(8," 0 0 1 ").concat(g+8,",").concat(h," \n            L ").concat(b," ").concat(h));var y=d.children[1];if(y&&(y.style.top=(d.offsetHeight-y.offsetHeight)/2+"px","left-side"===v?y.style.left="-10px":"right-side"===v&&(y.style.left=d.offsetWidth-10+"px"),y.expanded)){var x=l.children[1].children;0<x.length&&e(x,d)}}}(o,i,!0),e.appendChild((t=w,(n=B.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",t),n.setAttribute("stroke","#555"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","square"),n.setAttribute("stroke-width","1"),n.setAttribute("transform","translate(0.5,-0.5)"),n))}()}for(var A in this.linkSvgGroup.innerHTML="",this.linkData){var D=this.linkData[A];"string"==typeof D.from?this.createLink(T(D.from),T(D.to),!0,D):this.createLink(T(D.from.nodeObj.id),T(D.to.nodeObj.id),!0,D)}},createInputDiv:function(n){var i=this;if(n){var o=B.createElement("div"),a=n.childNodes[0].textContent;n.appendChild(o),o.innerHTML=a,o.contentEditable=!0,o.spellcheck=!1,o.style.cssText="min-width:".concat(n.offsetWidth-8,"px;"),this.direction===f&&(o.style.right=0),o.focus(),function(e){if(B.selection){var t=B.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=B.createRange();n.selectNodeContents(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}(o),this.inputDiv=o,this.bus.fire("operation",{name:"beginEdit",obj:n.nodeObj}),o.addEventListener("keydown",function(e){var t=e.keyCode;8===t?e.stopPropagation():13!==t&&9!==t||(e.preventDefault(),i.inputDiv.blur(),i.map.focus())}),o.addEventListener("blur",function(){if(o){var e=n.nodeObj,t=o.textContent.trim();e.topic=""===t?a:t,o.remove(),i.inputDiv=o=null,i.bus.fire("operation",{name:"finishEdit",obj:e}),t!==a&&(n.childNodes[0].textContent=e.topic,i.linkDiv())}})}},processPrimaryNode:function(e,t){if(this.direction===f)e.className="left-side";else if(this.direction===h)e.className="right-side";else if(this.direction===z){x.querySelectorAll(".left-side").length<=x.querySelectorAll(".right-side").length?(e.className="left-side",t.direction=f):(e.className="right-side",t.direction=h)}},selectNode:function(e){if("string"==typeof e)return this.selectNode(findEle(e));this.currentNode&&(this.currentNode.className=""),e.className="selected",this.currentNode=e,this.bus.fire("selectNode",e.nodeObj)},unselectNode:function(){this.currentNode&&(this.currentNode.className=""),this.currentNode=null,this.bus.fire("unselectNode")},selectNextSibling:function(){if(this.currentNode&&"meroot"!==this.currentNode.dataset.nodeid){var e,t=this.currentNode.parentElement.parentElement.nextSibling,n=this.currentNode.parentElement.parentElement;if("right-side"===n.className||"left-side"===n.className){var i=document.querySelectorAll("."+n.className),o=Array.from(i).indexOf(n);if(!(o+1<i.length))return!1;e=i[o+1].firstChild.firstChild}else{if(!t)return!1;e=t.firstChild.firstChild}return this.selectNode(e),e.scrollIntoViewIfNeeded(),!0}},selectPrevSibling:function(){if(this.currentNode&&"meroot"!==this.currentNode.dataset.nodeid){var e,t=this.currentNode.parentElement.parentElement.previousSibling,n=this.currentNode.parentElement.parentElement;if("right-side"===n.className||"left-side"===n.className){var i=document.querySelectorAll("."+n.className),o=Array.from(i).indexOf(n);if(!(0<=o-1))return!1;e=i[o-1].firstChild.firstChild}else{if(!t)return!1;e=t.firstChild.firstChild}return this.selectNode(e),e.scrollIntoViewIfNeeded(),!0}},selectFirstChild:function(){if(this.currentNode){var e=this.currentNode.parentElement.nextSibling;if(e&&e.firstChild){var t=e.firstChild.firstChild.firstChild;this.selectNode(t),t.scrollIntoViewIfNeeded()}}},selectParent:function(){if(this.currentNode&&"meroot"!==this.currentNode.dataset.nodeid){var e=this.currentNode.parentElement.parentElement.parentElement.previousSibling;if(e){var t=e.firstChild;this.selectNode(t),t.scrollIntoViewIfNeeded()}}},getAllDataString:function(){var e={nodeData:this.nodeData,linkData:this.linkData};return JSON.stringify(e,function(e,t){if("parent"!==e)return"from"===e||"to"===e?t.nodeObj.id:t})},getAllData:function(){var e={nodeData:this.nodeData,linkData:this.linkData};return JSON.parse(JSON.stringify(e,function(e,t){if("parent"!==e)return"from"===e||"to"===e?t.nodeObj.id:t}))},getAllDataMd:function(){var e=this.nodeData,o="# "+e.topic+"\n\n";return function e(t,n){for(var i=0;i<t.length;i++)o+=n<=6?"".padStart(n,"#")+" "+t[i].topic+"\n\n":"".padStart(n-7,"\t")+"- "+t[i].topic+"\n",t[i].children&&e(t[i].children,n+1)}(e.children,2),o},scale:function(e){this.scaleVal=e,this.map.style.transform="scale("+e+")"},toCenter:function(){this.container.scrollTo(1e4-this.container.offsetWidth/2,1e4-this.container.offsetHeight/2)},focusNode:function(e){e.nodeObj.root||(this.tempDir||(this.tempDir=this.direction),this.nodeData=e.nodeObj,this.nodeData.root=!0,this.initRight())},cancelFocus:function(){this.tempDir&&(delete this.nodeData.root,this.nodeData=this.nodeDataBackup,this.direction=this.tempDir,this.tempDir=null,this.init())},initLeft:function(){this.direction=0,this.init()},initRight:function(){this.direction=1,this.init()},initSide:function(){this.direction=2,this.init()},setLocale:function(e){this.locale=e,this.init()},enableEdit:function(){this.editable=!0},disableEdit:function(){this.editable=!1},init:function(){var e,t,n,i,o;this.mindElixirBox.className+=" mind-elixir",this.mindElixirBox.innerHTML="",this.container=fe.createElement("div"),this.container.className="map-container",this.map=fe.createElement("div"),this.map.className="map-canvas",this.map.setAttribute("tabindex","0"),this.container.appendChild(this.map),this.mindElixirBox.appendChild(this.container),this.root=fe.createElement("root"),this.box=fe.createElement("children"),this.box.className="box",this.svg2nd=P("svg2nd"),this.linkController=P("linkcontroller"),this.P2=fe.createElement("div"),this.P3=fe.createElement("div"),this.P2.className=this.P3.className="circle",this.line1=a(0,0,0,0),this.line2=a(0,0,0,0),this.linkController.appendChild(this.line1),this.linkController.appendChild(this.line2),this.linkSvgGroup=P("topiclinks"),this.map.appendChild(this.root),this.map.appendChild(this.box),this.map.appendChild(this.svg2nd),this.map.appendChild(this.linkController),this.map.appendChild(this.linkSvgGroup),this.map.appendChild(this.P2),this.map.appendChild(this.P3),this.contextMenu&&c(this),this.toolBar&&(t=1,(e=this).container.append(s),e.container.append(S),d.onclick=function(){e.container.requestFullscreen()},p.onclick=function(){e.toCenter()},L.onclick=function(){t<.6||e.scale(t-=.2)},E.onclick=function(){1.6<t||e.scale(t+=.2)},M.onclick=function(){e.initLeft()},O.onclick=function(){e.initRight()},j.onclick=function(){e.initSide()}),this.nodeMenu&&I(this),this.keypress&&function(t){de.unbind("del,backspace,f2,tab,enter,left,right,down,up"),de("del,backspace",{element:t.map},function(e){t.currentLink?t.removeLink():t.removeNode()}),de("f2,tab,enter,left,right,down,up,pageup,pagedown",{element:t.map},function(e,t){e.preventDefault(),n[t.key]()});var n={enter:function(){t.insertSibling()},tab:function(){t.addChild()},f2:function(){t.beginEdit()},up:function(){t.selectPrevSibling()},down:function(){t.selectNextSibling()},left:function(){t.currentNode&&("right-side"===t.currentNode.offsetParent.offsetParent.className?t.selectParent():"left-side"===t.currentNode.offsetParent.offsetParent.className&&t.selectFirstChild())},right:function(){t.currentNode&&("right-side"===t.currentNode.offsetParent.offsetParent.className?t.selectFirstChild():"left-side"===t.currentNode.offsetParent.offsetParent.className&&t.selectParent())},pageup:function(){t.moveUpNode()},pagedown:function(){t.moveDownNode()}}}(this),window.mevar_draggable&&((n=this).map.addEventListener("drag",function(e){}),n.map.addEventListener("dragstart",function(e){i=e.target,r.clear()}),n.map.addEventListener("dragend",function(e){e.target.style.opacity=""}),n.map.addEventListener("dragover",function(e){e.preventDefault()}),n.map.addEventListener("dragenter",function(e){"TPC"==e.target.tagName&&e.target!==i&&(e.target.style.opacity=.5)}),n.map.addEventListener("dragleave",function(e){"TPC"==e.target.tagName&&e.target!==i&&(e.target.style.opacity=1)}),n.map.addEventListener("drop",function(e){e.preventDefault(),"TPC"==e.target.tagName&&e.target!==i&&(e.target.style.opacity=1,n.moveNode(i,e.target),i=null)})),this.toCenter(),this.layout(),this.linkDiv(),(o=this).map.addEventListener("click",function(e){if(e.preventDefault(),"EPD"===e.target.nodeName){var t=e.target.previousSibling.nodeObj;!1!==t.expanded?t.expanded=!1:t.expanded=!0,o.layout(),o.linkDiv()}else"T"===e.target.parentElement.nodeName||"ROOT"===e.target.parentElement.nodeName?o.selectNode(e.target):"path"===e.target.nodeName?"g"===e.target.parentElement.nodeName&&o.selectLink(e.target.parentElement):"circle"===e.target.className||(o.unselectNode(),o.hideLinkController())}),o.map.addEventListener("dblclick",function(e){e.preventDefault(),o.editable&&("T"!==e.target.parentElement.nodeName&&"ROOT"!==e.target.parentElement.nodeName||o.createInputDiv(e.target))}),o.map.addEventListener("mousemove",function(e){"true"!==e.target.contentEditable&&r.onMove(e,o.container)}),o.map.addEventListener("mousedown",function(e){"true"!==e.target.contentEditable&&(r.afterMoving=!1,r.mousedown=!0)}),o.map.addEventListener("mouseleave",function(e){r.clear()}),o.map.addEventListener("mouseup",function(e){r.clear()})}},he.LEFT=f,he.RIGHT=h,he.SIDE=z,he.version=i.version,he.E=T,he.example={nodeData:{id:"root",topic:"Mind Elixir",root:!0,children:[{topic:"What is Minde Elixir",id:"bd4313fbac40284b",direction:0,expanded:!0,children:[{topic:"A mind map core",id:"beeb823afd6d2114"},{topic:"Free",id:"c1f068377de9f3a0"},{topic:"Open-Source",id:"c1f06d38a09f23ca"},{topic:"Without framework",id:"c1f06e4cbcf16463",expanded:!0,children:[]},{topic:"Use in your own project",id:"c1f1f11a7fbf7550",children:[{topic:"import MindElixir from 'mind-elixir'",id:"c1f1e245b0a89f9b"},{topic:"new MindElixir({...}).init()",id:"c1f1ebc7072c8928"}]},{topic:"Easy to use",id:"c1f0723c07b408d7",expanded:!0,children:[{topic:"Use it like other mind map application",id:"c1f09612fd89920d"}]}]},{topic:"Basics",id:"bd1b66c4b56754d9",direction:0,expanded:!0,children:[{topic:"tab - Create a child node",id:"bd1b6892bcab126a"},{topic:"enter - Create a sibling node",id:"bd1b6b632a434b27"},{topic:"del - Remove a node",id:"bd1b983085187c0a"}]},{topic:"Focus mode",id:"bd1b9b94a9a7a913",direction:1,expanded:!0,children:[{topic:"Right click and select Focus Mode",id:"bd1bb2ac4bbab458"},{topic:"Right click and select Cancel Focus Mode",id:"bd1bb4b14d6697c3"}]},{topic:"Left menu",id:"bd1b9d1816ede134",direction:0,expanded:!0,children:[{topic:"Node distribution",id:"bd1ba11e620c3c1a",expanded:!0,children:[{topic:"Left",id:"bd1c1cb51e6745d3"},{topic:"Right",id:"bd1c1e12fd603ff6"},{topic:"Both l & r",id:"bd1c1f03def5c97b"}]}]},{topic:"Bottom menu",id:"bd1ba66996df4ba4",direction:1,expanded:!0,children:[{topic:"Full screen",id:"bd1ba81d9bc95a7e"},{topic:"Return to Center",id:"bd1babdd5c18a7a2"},{topic:"Zoom in",id:"bd1bae68e0ab186e"},{topic:"Zoom out",id:"bd1bb06377439977"}]},{topic:"Link",id:"bd1beff607711025",direction:0,expanded:!0,children:[{topic:"Right click and select Link",id:"bd1bf320da90046a"},{topic:"Click the target you want to link",id:"bd1bf6f94ff2e642"},{topic:"Modify link with control points",id:"bd1c0c4a487bd036"}]},{topic:"Node style",id:"bd1c217f9d0b20bd",direction:0,expanded:!0,children:[{topic:"Font Size",id:"bd1c24420cd2c2f5",style:{fontSize:"32",color:"#3298db"}},{topic:"Font Color",id:"bd1c2a59b9a2739c",style:{color:"#c0392c"}},{topic:"Background Color",id:"bd1c2de33f057eb4",style:{color:"#bdc3c7",background:"#2c3e50"}},{topic:"Add tags",id:"bd1cff58364436d0",tags:["Completed"]},{topic:"Add icons",id:"bd1d0317f7e8a61a",icons:["😂"]},{topic:"Bolder",id:"bd41fd4ca32322a4",style:{fontWeight:"bold"}}]},{topic:"Draggable",id:"bd1f03fee1f63bc6",direction:1,expanded:!0,children:[{topic:"Drag a node to another node and the former one become a child node of latter one",id:"bd1f07c598e729dc"}]},{topic:"TODO",id:"bd1facea32a1967c",direction:1,expanded:!0,children:[{topic:"Add image",id:"bd1fb1ec53010749"},{topic:"Free node (position)",id:"bd42d3e3bee992b9"},{topic:"Style adjustment",id:"beeb7f3db6ad6496"}]},{topic:"Export data",id:"beeb7586973430db",direction:1,expanded:!0,children:[{topic:"JSON",id:"beeb784cc189375f"},{topic:"HTML",id:"beeb7a6bec2d68f5"}]},{topic:"Caution",id:"bd42dad21aaf6bae",direction:0,style:{background:"#f1c40e"},expanded:!0,children:[{topic:"Only save manually",id:"bd42e1d0163ebf04",expanded:!0,children:[{topic:"Save button in the top-right corner",id:"bd42e619051878b3",expanded:!0,children:[]},{topic:"ctrl + S",id:"bd42e97d7ac35e99"}]}]}],expanded:!0},linkData:{}},he.new=function(e){return{nodeData:{id:"root",topic:e||"new topic",root:!0,children:[]},linkData:{}}};t.default=he}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=13).default;function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,i});